## Function
--Customers from the state of WA cannot be  younger than 18 years old

```
CREATE FUNCTION fn_cust_WA_18()
RETURNS INT
AS
BEGIN
DECLARE @RET INT = 0
IF
EXISTS (SELECT *
        FROM tblCustomers C
            JOIN tblOrders OD ON C.CustomerID = OD.CustomerID
        WHERE C.CustomerState = 'WA'
        AND C.CustomerBirth > DateAdd(year, -18, GetDate())
SET @RET = 1
RETURN @RET
END
GO
ALTER TABLE tblCustomers
ADD CONSTRAINT fn_cust_age
CHECK(dbo.fn_cust_WA_18() = 0)
```
